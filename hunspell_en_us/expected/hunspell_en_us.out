CREATE EXTENSION hunspell_en_us;
CREATE TABLE table1(name varchar);
INSERT INTO table1 VALUES ('leaves'), ('leaved'), ('leaving'), ('housewives'),
                        ('inability'), ('abilities'), ('disability'), ('ability'),
                        ('wives'), ('wife'), ('lives'), ('life'), ('knives'), ('knife');
SELECT d.* FROM table1 AS t, LATERAL ts_debug('english_hunspell', t.name) AS d;
   alias   |   description   |   token    |                 dictionaries                 |    dictionary    |           lexemes           
-----------+-----------------+------------+----------------------------------------------+------------------+-----------------------------
 asciiword | Word, all ASCII | leaves     | {thesaurus_en,english_hunspell,english_stem} | english_hunspell | {leave}
 asciiword | Word, all ASCII | leaved     | {thesaurus_en,english_hunspell,english_stem} | english_hunspell | {leave}
 asciiword | Word, all ASCII | leaving    | {thesaurus_en,english_hunspell,english_stem} | english_hunspell | {leave}
 asciiword | Word, all ASCII | housewives | {thesaurus_en,english_hunspell,english_stem} | thesaurus_en     | {wife,housewife,housewives}
 asciiword | Word, all ASCII | inability  | {thesaurus_en,english_hunspell,english_stem} | english_hunspell | {ability}
 asciiword | Word, all ASCII | abilities  | {thesaurus_en,english_hunspell,english_stem} | english_hunspell | {ability}
 asciiword | Word, all ASCII | disability | {thesaurus_en,english_hunspell,english_stem} | english_hunspell | {ability}
 asciiword | Word, all ASCII | ability    | {thesaurus_en,english_hunspell,english_stem} | english_hunspell | {ability}
 asciiword | Word, all ASCII | wives      | {thesaurus_en,english_hunspell,english_stem} | english_hunspell | {wive,wife}
 asciiword | Word, all ASCII | wife       | {thesaurus_en,english_hunspell,english_stem} | english_hunspell | {wife}
 asciiword | Word, all ASCII | lives      | {thesaurus_en,english_hunspell,english_stem} | english_hunspell | {live,life}
 asciiword | Word, all ASCII | life       | {thesaurus_en,english_hunspell,english_stem} | english_hunspell | {life}
 asciiword | Word, all ASCII | knives     | {thesaurus_en,english_hunspell,english_stem} | english_hunspell | {knives,knife}
 asciiword | Word, all ASCII | knife      | {thesaurus_en,english_hunspell,english_stem} | english_hunspell | {knife}
(14 rows)

CREATE INDEX name_idx ON table1 USING GIN (to_tsvector('english_hunspell', "name"));
SELECT * FROM table1 WHERE to_tsvector('english_hunspell', name)
    @@ to_tsquery('english_hunspell', 'leaving');
  name   
---------
 leaves
 leaved
 leaving
(3 rows)

SELECT * FROM table1 WHERE to_tsvector('english_hunspell', name)
    @@ to_tsquery('english_hunspell', 'abilities');
    name    
------------
 inability
 abilities
 disability
 ability
(4 rows)

SELECT * FROM table1 WHERE to_tsvector('english_hunspell', name)
    @@ to_tsquery('english_hunspell', 'ability');
    name    
------------
 inability
 abilities
 disability
 ability
(4 rows)

SELECT * FROM table1 WHERE to_tsvector('english_hunspell', name)
    @@ to_tsquery('english_hunspell', 'wives');
    name    
------------
 housewives
 wives
 wife
(3 rows)

SELECT * FROM table1 WHERE to_tsvector('english_hunspell', name)
    @@ to_tsquery('english_hunspell', 'lives');
 name  
-------
 lives
 life
(2 rows)

SELECT * FROM table1 WHERE to_tsvector('english_hunspell', name)
    @@ to_tsquery('english_hunspell', 'knives');
  name  
--------
 knives
 knife
(2 rows)

SELECT * FROM table1 WHERE to_tsvector('english_hunspell', name)
    @@ to_tsquery('english_hunspell', 'housewives');
    name    
------------
 housewives
(1 row)

DROP INDEX name_idx;
CREATE INDEX name_idx ON table1 USING GIST (to_tsvector('english_hunspell', "name"));
SELECT * FROM table1 WHERE to_tsvector('english_hunspell', name)
    @@ to_tsquery('english_hunspell', 'leaving');
  name   
---------
 leaves
 leaved
 leaving
(3 rows)

SELECT * FROM table1 WHERE to_tsvector('english_hunspell', name)
    @@ to_tsquery('english_hunspell', 'abilities');
    name    
------------
 inability
 abilities
 disability
 ability
(4 rows)

SELECT * FROM table1 WHERE to_tsvector('english_hunspell', name)
    @@ to_tsquery('english_hunspell', 'ability');
    name    
------------
 inability
 abilities
 disability
 ability
(4 rows)

SELECT * FROM table1 WHERE to_tsvector('english_hunspell', name)
    @@ to_tsquery('english_hunspell', 'wives');
    name    
------------
 housewives
 wives
 wife
(3 rows)

SELECT * FROM table1 WHERE to_tsvector('english_hunspell', name)
    @@ to_tsquery('english_hunspell', 'lives');
 name  
-------
 lives
 life
(2 rows)

SELECT * FROM table1 WHERE to_tsvector('english_hunspell', name)
    @@ to_tsquery('english_hunspell', 'knives');
  name  
--------
 knives
 knife
(2 rows)

SELECT * FROM table1 WHERE to_tsvector('english_hunspell', name)
    @@ to_tsquery('english_hunspell', 'housewives');
    name    
------------
 housewives
(1 row)

